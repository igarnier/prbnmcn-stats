<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Rational (prbnmcn-stats.Stats.Fin.Rational)</title><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">prbnmcn-stats</a> &#x00BB; <a href="../../index.html">Stats</a> &#x00BB; <a href="../index.html">Fin</a> &#x00BB; Rational</nav><header class="odoc-preamble"><h1>Module <code><span>Fin.Rational</span></code></h1><p><code>Q</code>-valued finitely supported distributions.</p></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../Stats_intf/module-type-Fin_dist/index.html">Stats_intf.Fin_dist</a>
  <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../Stats_intf/module-type-Fin_dist/index.html#type-r">r</a> = <span class="xref-unresolved">Q</span>.t</span>
   <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../../Stats_intf/module-type-Fin_dist/index.html#type-state">state</a> = <span class="xref-unresolved">Stdlib</span>.Random.State.t</span></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-state"><a href="#type-state" class="anchor"></a><code><span><span class="keyword">type</span> state</span><span> = <span class="xref-unresolved">Stdlib</span>.Random.State.t</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-r"><a href="#type-r" class="anchor"></a><code><span><span class="keyword">type</span> r</span><span> = <span class="xref-unresolved">Q</span>.t</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-prb"><a href="#type-prb" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a prb</span></span><span> = <span><span>(<span class="type-var">'a</span>, <a href="#type-r">r</a>)</span> <a href="../../Stats_intf/index.html#type-fin_prb">Stats_intf.fin_prb</a></span></span></code></div><div class="spec-doc"><p>The type of finite probability measures with domain <code>'a</code> and range <code>r</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-mes"><a href="#type-mes" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a mes</span></span><span> = <span><span>(<span class="type-var">'a</span>, <a href="#type-r">r</a>)</span> <a href="../../Stats_intf/index.html#type-fin_mes">Stats_intf.fin_mes</a></span></span></code></div><div class="spec-doc"><p>The type of finite measures with domain <code>'a</code> and range <code>r</code>.</p></div></div><h3 id="finite_generic"><a href="#finite_generic" class="anchor"></a>Constructing <code>r</code>-valued finitely supported functions.</h3><div class="odoc-spec"><div class="spec value anchored" id="val-of_fun"><a href="#val-of_fun" class="anchor"></a><code><span><span class="keyword">val</span> of_fun : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-r">r</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(int, <a href="#type-r">r</a>)</span> <a href="../../Stats_intf/index.html#type-fin_fun">Stats_intf.fin_fun</a></span></span></code></div><div class="spec-doc"><p><code>from_fun len f</code> constructs a finite function with support <code>0; ...; len-1</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>len &lt; 0</code></p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_array"><a href="#val-of_array" class="anchor"></a><code><span><span class="keyword">val</span> of_array : <span><span><a href="#type-r">r</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(int, <a href="#type-r">r</a>)</span> <a href="../../Stats_intf/index.html#type-fin_fun">Stats_intf.fin_fun</a></span></span></code></div><div class="spec-doc"><p><code>from_array a</code> returns a finite function wrapping the array <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_assoc"><a href="#val-of_assoc" class="anchor"></a><code><span><span class="keyword">val</span> of_assoc : 
  <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.S <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">key</span> = <span class="type-var">'k</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'k</span> * <a href="#type-r">r</a>)</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'k</span>, <a href="#type-r">r</a>)</span> <a href="../../Stats_intf/index.html#type-fin_fun">Stats_intf.fin_fun</a></span></span></code></div><div class="spec-doc"><p><code>from_assoc h a</code> returns a finite function constructed from the bindings in <code>a</code>. The finite function is backed by a hash table whose implementation is given through the first class module <code>h</code>. The behaviour of the function if elements in the support appear more than once is unspecified.</p></div></div><p>Constructing measures and probabilities</p><div class="odoc-spec"><div class="spec value anchored" id="val-measure"><a href="#val-measure" class="anchor"></a><code><span><span class="keyword">val</span> measure : <span><span><span>(<span class="type-var">'a</span>, <a href="#type-r">r</a>)</span> <a href="../../Stats_intf/index.html#type-fin_fun">Stats_intf.fin_fun</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-mes">mes</a></span></span></code></div><div class="spec-doc"><p>Creates a finitely supported <em>measure</em> from a finite function. A measure is not necessarily normalized.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if a point as negative mass.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-probability"><a href="#val-probability" class="anchor"></a><code><span><span class="keyword">val</span> probability : <span><span><span>(<span class="type-var">'a</span>, <a href="#type-r">r</a>)</span> <a href="../../Stats_intf/index.html#type-fin_fun">Stats_intf.fin_fun</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-prb">prb</a></span></span></code></div><div class="spec-doc"><p>Creates a finitely supported <em>probability</em> from a finite function. A probability is normalized.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if a point as negative mass or if the total mass does not sum up to one.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-as_measure"><a href="#val-as_measure" class="anchor"></a><code><span><span class="keyword">val</span> as_measure : <span><span><span class="type-var">'a</span> <a href="#type-prb">prb</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-mes">mes</a></span></span></code></div><div class="spec-doc"><p>Forgetful map from the type of finite probabilities to the type of measures.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-normalize"><a href="#val-normalize" class="anchor"></a><code><span><span class="keyword">val</span> normalize : <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'t</span> <a href="#type-prb">prb</a></span></span></code></div><div class="spec-doc"><p>Normalize a measure to obtain a probability measure.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the measure has zero mass.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-counts_of_empirical"><a href="#val-counts_of_empirical" class="anchor"></a><code><span><span class="keyword">val</span> counts_of_empirical : 
  <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.S <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">key</span> = <span class="type-var">'t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'t</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span></span></code></div><div class="spec-doc"><p>Computes the empirical measure of an array of elements. Each element present in the array is mapped to its count.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-uniform"><a href="#val-uniform" class="anchor"></a><code><span><span class="keyword">val</span> uniform : <span><span><span class="type-var">'t</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'t</span> <a href="#type-prb">prb</a></span></span></code></div><div class="spec-doc"><p>Finitely supported uniform distribution.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-coin"><a href="#val-coin" class="anchor"></a><code><span><span class="keyword">val</span> coin : <span>bias:<a href="#type-r">r</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-prb">prb</a></span></span></code></div><div class="spec-doc"><p>Biased coin. Raises an error if <code>bias</code> is not in <code>0,1</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-binomial"><a href="#val-binomial" class="anchor"></a><code><span><span class="keyword">val</span> binomial : <span><span>bool <a href="#type-prb">prb</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-prb">prb</a></span></span></code></div><div class="spec-doc"><p>Binomial distribution. <code>binomial p n</code> returns the probability of having <code>k</code> successes over <code>n</code> experiments, according to a biased coin <code>p</code>.</p></div></div><p>Using measures and probabilities</p><div class="odoc-spec"><div class="spec value anchored" id="val-integrate"><a href="#val-integrate" class="anchor"></a><code><span><span class="keyword">val</span> integrate : <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-r">r</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-r">r</a></span></code></div><div class="spec-doc"><p>Integrates a function against a finitely supported measure.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eval_prb"><a href="#val-eval_prb" class="anchor"></a><code><span><span class="keyword">val</span> eval_prb : <span><span><span class="type-var">'t</span> <a href="#type-prb">prb</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-r">r</a></span></code></div><div class="spec-doc"><p>Evaluates a finitely supported probability on argument. Returns 0 if the argument is out of the support.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eval_mes"><a href="#val-eval_mes" class="anchor"></a><code><span><span class="keyword">val</span> eval_mes : <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-r">r</a></span></code></div><div class="spec-doc"><p>Evaluates a finitely supported measure on argument. Returns 0 if the argument is out of the support.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter_prb"><a href="#val-iter_prb" class="anchor"></a><code><span><span class="keyword">val</span> iter_prb : <span><span><span class="type-var">'t</span> <a href="#type-prb">prb</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-r">r</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Iterates the given function on the support of the probability.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter_mes"><a href="#val-iter_mes" class="anchor"></a><code><span><span class="keyword">val</span> iter_mes : <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-r">r</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Iterates the given function on the support of the measure.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sample"><a href="#val-sample" class="anchor"></a><code><span><span class="keyword">val</span> sample : <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-state">state</a>, <span class="type-var">'t</span>)</span> <a href="../../Stats_intf/index.html#type-gen">Stats_intf.gen</a></span></span></code></div><div class="spec-doc"><p>Samples from a finitely supported distribution presented as an unnormalized measure. This is mostly useful when sampling only once or twice from a distribution: consider converting to a categorical sampler when sampling repeatedly. Complexity: O(n) with <code>n</code> the cardinality of the support.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-total_mass"><a href="#val-total_mass" class="anchor"></a><code><span><span class="keyword">val</span> total_mass : <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-r">r</a></span></code></div><div class="spec-doc"><p>Returns the total mass associated to a finitely supported measure.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mean_generic"><a href="#val-mean_generic" class="anchor"></a><code><span><span class="keyword">val</span> mean_generic : 
  <span><span>(<span class="keyword">module</span> <a href="../../../../prbnmcn-basic-structures/Basic_structures/Basic_intf/module-type-Module/index.html">Basic_structures.Basic_intf.Module</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../prbnmcn-basic-structures/Basic_structures/Basic_intf/module-type-Module/index.html#type-t">t</a> = <span class="type-var">'t</span> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../prbnmcn-basic-structures/Basic_structures/Basic_intf/module-type-Module/R/index.html#type-t">R.t</a> = <a href="#type-r">r</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'t</span></span></code></div><div class="spec-doc"><p>Compute the mean of a finite measure supported on an <code>Intf.Module</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mean"><a href="#val-mean" class="anchor"></a><code><span><span class="keyword">val</span> mean : <span><span><a href="#type-r">r</a> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-r">r</a></span></code></div><div class="spec-doc"><p>Compute the mean of a finite measure supported by r.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-variance"><a href="#val-variance" class="anchor"></a><code><span><span class="keyword">val</span> variance : <span><span><a href="#type-r">r</a> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-r">r</a></span></code></div><div class="spec-doc"><p>Compute the variance of a finite measure supported by r.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-quantile"><a href="#val-quantile" class="anchor"></a><code><span><span class="keyword">val</span> quantile : 
  <span><span>(<span class="keyword">module</span> <a href="../../../../prbnmcn-basic-structures/Basic_structures/Basic_intf/module-type-Ordered/index.html">Basic_structures.Basic_intf.Ordered</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../prbnmcn-basic-structures/Basic_structures/Basic_intf/module-type-Ordered/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'elt</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-r">r</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'elt</span></span></code></div><div class="spec-doc"><p><code>quantile ord mes p</code> computes the <code>p</code>th quantile of <code>mes</code>. The underlying data is totally ordered by <code>ord</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>p &lt; 0 || p &gt; 1</code> or if the total mass of <code>mes</code> is zero</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list_of_measure"><a href="#val-list_of_measure" class="anchor"></a><code><span><span class="keyword">val</span> list_of_measure : <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span> <span>[&gt; <span>`Measure of <span><span>(<span class="type-var">'t</span> * <a href="#type-r">r</a>)</span> list</span></span> ]</span></span></code></div><div class="spec-doc"><p>Returns the raw data underlying a finitely supported measure.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-list_of_probability"><a href="#val-list_of_probability" class="anchor"></a><code><span><span class="keyword">val</span> list_of_probability : <span><span><span class="type-var">'t</span> <a href="#type-prb">prb</a></span> <span class="arrow">&#45;&gt;</span></span> <span>[&gt; <span>`Probability of <span><span>(<span class="type-var">'t</span> * <a href="#type-r">r</a>)</span> list</span></span> ]</span></span></code></div><div class="spec-doc"><p>Returns the raw data underlying a finitely supported probability.</p></div></div><div class="odoc-spec"><div class="spec type subst anchored" id="type-pp"><a href="#type-pp" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a pp</span></span><span> := <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_fin_mes"><a href="#val-pp_fin_mes" class="anchor"></a><code><span><span class="keyword">val</span> pp_fin_mes : <span><span><span class="type-var">'a</span> <a href="#type-pp">pp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-mes">mes</a></span> <a href="#type-pp">pp</a></span></span></code></div><div class="spec-doc"><p>Pretty print a measure, with elements sorted according to the order relation on the support.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_fin_mes_by_measure"><a href="#val-pp_fin_mes_by_measure" class="anchor"></a><code><span><span class="keyword">val</span> pp_fin_mes_by_measure : <span><span><span class="type-var">'a</span> <a href="#type-pp">pp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-mes">mes</a></span> <a href="#type-pp">pp</a></span></span></code></div><div class="spec-doc"><p>Pretty print a measure, with elements sorted by increasing measure..</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_union"><a href="#val-fold_union" class="anchor"></a><code><span><span class="keyword">val</span> fold_union : 
  <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.S <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">key</span> = <span class="type-var">'t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-r">r</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-r">r</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'t</span> <a href="#type-mes">mes</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Fold over the union of the supports of the given measures.</p></div></div></details></div><div class="odoc-spec"><div class="spec module anchored" id="module-Dist"><a href="#module-Dist" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Dist/index.html">Dist</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>